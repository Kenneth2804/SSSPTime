<!DOCTYPE html>
<html>
<head>
    <title>SSSP Time Fixer</title>
    <script src="js/main.js"></script>
    <script> src="js/configManager.js" </script>
    <script> src="js/timeSync.js" </script>

<style>
    body {
        margin: 0;
        background-color: #000;
        color: rgb(211, 234, 211);
        font-family: monospace;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
    }
    #message {
        text-align: center;
        font-size: 1.5em;
    }
</style>
</head>
<body>
    <div id="message">Time set up</div>
<script>
    window.onload = async () => {
        const message = document.getElementById("message");

        try {
            const config = await ConfigManager.loadConfig();
            TimeSync.init(config, (statusText) => {
                message.textContent = statusText;

                setTimeout(() => {
                    try {
                        tizen.application.getCurrentAppicattion().exit();
                    } catch (e) {
                        console.error("isn't possible close the app", e);
                    }
                }, 5000);
            });
        } catch (e) {
            message.textContent = "Error set time";
            console.error(e);
        }
    };
</script>
</body>
</html>
